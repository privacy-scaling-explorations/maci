<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-v1.x docs-doc-page docs-doc-id-cli" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">MACI Command-line interface (CLI) | MACI</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://maci.pse.dev/img/maci.jpeg"><meta data-rh="true" name="twitter:image" content="https://maci.pse.dev/img/maci.jpeg"><meta data-rh="true" property="og:url" content="https://maci.pse.dev/docs/cli"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="v1.x"><meta data-rh="true" name="docusaurus_tag" content="docs-default-v1.x"><meta data-rh="true" name="docsearch:version" content="v1.x"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-v1.x"><meta data-rh="true" property="og:title" content="MACI Command-line interface (CLI) | MACI"><meta data-rh="true" name="description" content="Introduction to the MACI CLI interface that allows for effective deployment and testing"><meta data-rh="true" property="og:description" content="Introduction to the MACI CLI interface that allows for effective deployment and testing"><link data-rh="true" rel="icon" href="/img/maci-logo-2.png"><link data-rh="true" rel="canonical" href="https://maci.pse.dev/docs/cli"><link data-rh="true" rel="alternate" href="https://maci.pse.dev/docs/cli" hreflang="en"><link data-rh="true" rel="alternate" href="https://maci.pse.dev/docs/cli" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="MACI RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="MACI Atom Feed">




<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.79daf961.css">
<script src="/assets/js/runtime~main.7a3acf99.js" defer="defer"></script>
<script src="/assets/js/main.64439376.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_gu5v" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">MACI</b></a><a class="navbar__item navbar__link" href="/docs/introduction">Documentation</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/roadmap">Roadmap</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/introduction">v1.x</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/cli">v1.x</a></li><li><a class="dropdown__link" href="/docs/v0.x/introduction">v0.x</a></li></ul></div><div class="navbarSearchContainer_IP3a"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><a href="https://github.com/privacy-scaling-explorations/maci" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_T11m"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_kWbt colorModeToggle_GwZs"><button class="clean-btn toggleButton_fOL9 toggleButtonDisabled_STpu" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_DCeJ"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_DFgp"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_IbdI"><div class="docsWrapper_JGIH"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_SdI4" type="button"></button><div class="docRoot_eRbX"><aside class="theme-doc-sidebar-container docSidebarContainer_Ta75"><div class="sidebarViewport_fgog"><div class="sidebar_oDHW"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_vPEQ"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/primitives">Primitives</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/cli">Command-line interface</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/contracts">Smart Contracts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/circuits">Circuits</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/trusted-setup">Trusted Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/testing">Testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/integrating">Integrating</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/audit">Security Assessments</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/ci-pipeline">CI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/coordinator-processing">Coordinator local processing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/versioning">MACI versioning</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/spec">Specification</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/key-change">Key change</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/troubleshooting">Troubleshooting</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/solidity-docs/MACI">solidity-docs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/typedoc/">index</a><button aria-label="Expand sidebar category &#x27;index&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_lg0V"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_nDJs"><div class="docItemContainer_OGiL"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_k3Z9" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_JACu"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Command-line interface</span><meta itemprop="position" content="1"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v1.x</span><div class="tocCollapsible_QCOD theme-doc-toc-mobile tocMobile_N0YI"><button type="button" class="clean-btn tocCollapsibleButton_pHwF">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Command-line interface</h1>
<p>MACI provides a command-line interface that allows for effective deployment and
testing. Applications that build on top of MACI, such as
<a href="https://clr.fund/" target="_blank" rel="noopener noreferrer">clr.fund</a>, implement their own web UIs.</p>
<p>Note that all the example commands default to a local Ethereum testnet at
<code>http://localhost:8545</code>, and use the Ethereum private key
<code>0xc87509a1c067bbde78beb793e6fa76530b6382a4c0241e5e4a9ec0a0f44dc0d3</code>. Do not
send any real funds to the address generated by this key.</p>
<p>For testing purposes, you can run:</p>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain"># in maci/contracts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm run hardhat</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>Note that you will need a hardhat.config file in your current directory to be able to run the cli.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_FNw8" id="subcommands">Subcommands<a href="#subcommands" class="hash-link" aria-label="Direct link to Subcommands" title="Direct link to Subcommands">​</a></h2>
<table><thead><tr><th>Command</th><th>Description</th><th>Options</th></tr></thead><tbody><tr><td><code>create</code></td><td>Deploy the contracts</td><td><code>-v, --vkRegistryAddress &lt;vkRegistryAddress&gt;</code>: The vk registry contract address <br> <code>-i, --initialVoiceCredits &lt;initialVoiceCredits&gt;</code>: The initial voice credits <br> <code>-p, --initialVoiceCreditsProxyAddress &lt;initialVoiceCreditsProxyAddress&gt;</code>: The initial voice credits proxy contract address <br> <code>-g, --signupGatekeeperAddress &lt;signupGatekeeperAddress&gt;</code>: The signup gatekeeper contract address <br> <code>-q, --quiet</code>: Whether to print values to the console <br> <code>-s, --stateTreeDepth &lt;stateTreeDepth&gt;</code>: The state tree depth</td></tr><tr><td><code>checkVerifyingKeys</code></td><td>Check that the verifying keys in the contract match the local ones</td><td><code>-q, --quiet</code>: Whether to print values to the console <br> <code>-vk, --vk-contract &lt;vkContract&gt;</code>: The VkRegistry contract address <br> <code>-s, --state-tree-depth &lt;stateTreeDepth&gt;</code>: The state tree depth <br> <code>-i, --int-state-tree-depth &lt;intStateTreeDepth&gt;</code>: The intermediate state tree depth <br> <code>-m, --msg-tree-depth &lt;messageTreeDepth&gt;</code>: The message tree depth <br> <code>-v, --vote-option-tree-depth &lt;voteOptionTreeDepth&gt;</code>: The vote option tree depth <br> <code>-b, --msg-batch-depth &lt;messageBatchDepth&gt;</code>: The message batch depth <br> <code>-p, --process-messages-zkey &lt;processMessagesZkeyPath&gt;</code>: The process messages zkey path <br> <code>-t, --tally-votes-zkey &lt;tallyVotesZkeyPath&gt;</code>: The tally votes zkey path <br> <code>-ss, --subsidy-zkey &lt;subsidyZkeyPath&gt;</code>: The subsidy zkey path</td></tr><tr><td><code>genMaciPubKey</code></td><td>Generate a new MACI public key</td><td><code>-sk, --privkey &lt;privkey&gt;</code>: The private key</td></tr><tr><td><code>genMaciKeyPair</code></td><td>Generate a new MACI key pair</td><td>No options</td></tr><tr><td><code>airdrop</code></td><td>Airdrop topup credits to the coordinator</td><td><code>-a, --amount &lt;amount&gt;</code>: The amount of topup <br> <code>-x, --contract &lt;contract&gt;</code>: The MACI contract address <br> <code>-o, --poll-id &lt;pollId&gt;</code>: Poll id <br> <code>-t, --token-address &lt;tokenAddress&gt;</code>: The token address <br> <code>-q, --quiet</code>: Whether to print values to the console</td></tr><tr><td><code>deployVkRegistry</code></td><td>Deploy a new verification key registry contract</td><td><code>-q, --quiet</code>: Whether to print values to the console</td></tr><tr><td><code>show</code></td><td>Show the deployed contract addresses</td><td>No options</td></tr><tr><td><code>deployPoll</code></td><td>Deploy a new poll</td><td><code>-t, --duration &lt;pollDuration&gt;</code>: The poll duration <br> <code>-g, --max-messages &lt;maxMessages&gt;</code>: The max messages <br> <code>-mv, --max-vote-options &lt;maxVoteOptions&gt;</code>: The max vote options <br> <code>-i, --int-state-tree-depth &lt;intStateTreeDepth&gt;</code>: The int state tree depth <br> <code>-b, --msg-batch-depth &lt;messageTreeSubDepth&gt;</code>: The message tree sub depth <br> <code>-m, --msg-tree-depth &lt;messageTreeDepth&gt;</code>: The message tree depth <br> <code>-v, --vote-option-tree-depth &lt;voteOptionTreeDepth&gt;</code>: The vote option tree depth <br> <code>-pk, --pubkey &lt;coordinatorPubkey&gt;</code>: The coordinator public key <br> <code>-x, --maci-address &lt;maciAddress&gt;</code>: The MACI contract address <br> <code>-q, --quiet</code>: Whether to print values to the console</td></tr><tr><td><code>setVerifyingKeys</code></td><td>Set the verifying keys</td><td><code>-s, --state-tree-depth &lt;stateTreeDepth&gt;</code>: The state tree depth <br> <code>-i, --int-state-tree-depth &lt;intStateTreeDepth&gt;</code>: The intermediate state tree depth <br> <code>-m, --msg-tree-depth &lt;messageTreeDepth&gt;</code>: The message tree depth <br> <code>-v, --vote-option-tree-depth &lt;voteOptionTreeDepth&gt;</code>: The vote option tree depth <br> <code>-b, --msg-batch-depth &lt;messageBatchDepth&gt;</code>: The message batch depth <br> <code>-p, --process-messages-zkey &lt;processMessagesZkeyPath&gt;</code>: The process messages zkey path <br> <code>-t, --tally-votes-zkey &lt;tallyVotesZkeyPath&gt;</code>: The tally votes zkey path <br> <code>-k, --vk-registry &lt;vkRegistry&gt;</code>: The vk registry contract address <br> <code>-q, --quiet</code>: Whether to print values to the console <br> <code>-ss, --subsidy-zkey &lt;subsidyZkeyPath&gt;</code>: The subsidy zkey path</td></tr><tr><td><code>publish</code></td><td>Publish a new message to a MACI Poll contract</td><td><code>-p, --pubkey &lt;pubkey&gt;</code>: The MACI public key which should replace the user&#x27;s public key in the state tree <br> <code>-x, --contract &lt;contract&gt;</code>: The MACI contract address <br> <code>-sk, --privkey &lt;privkey&gt;</code>: Your serialized MACI private key <br> <code>-i, --state-index &lt;stateIndex&gt;</code>: The user&#x27;s state index <br> <code>-v, --vote-option-index &lt;voteOptionIndex&gt;</code>: The vote option index <br> <code>-n, --nonce &lt;nonce&gt;</code>: The message nonce <br> <code>-s, --salt &lt;salt&gt;</code>: The message salt <br> <code>-o, --poll-id &lt;pollId&gt;</code>: The poll id <br> <code>-w, --new-vote-weight &lt;newVoteWeight&gt;</code>: The new vote weight <br> <code>-q, --quiet</code>: Whether to print values to the console</td></tr><tr><td>mergeMessages</td><td>Merge the message accumulator queue</td><td><code>-q, --quiet</code>: Whether to print values to the console <br> <code>-x, --maci-contract-address &lt;maciContractAddress&gt;</code>: The MACI contract address <br> <code>-o, --poll-id &lt;pollId&gt;</code>: The poll id <br> <code>-n, --num-queue-ops &lt;numQueueOps&gt;</code>: The number of queue operations</td></tr><tr><td>mergeSignups</td><td>Merge the signups accumulator queue</td><td><code>-q, --quiet</code>: Whether to print values to the console <br> <code>-x, --maci-contract-address &lt;maciContractAddress&gt;</code>: The MACI contract address <br> <code>-o, --poll-id &lt;pollId&gt;</code>: The poll id <br> <code>-n, --num-queue-ops &lt;numQueueOps&gt;</code>: The number of queue operations</td></tr><tr><td>timeTravel</td><td>Fast-forward the time (only works for local hardhat testing)</td><td><code>-s, --seconds &lt;seconds&gt;</code>: The number of seconds to fast-forward <br> <code>-q, --quiet</code>: Whether to print values to the console</td></tr><tr><td>signup</td><td>Sign up to a MACI contract</td><td><code>-p, --pubkey &lt;maciPubKey&gt;</code>: The MACI public key <br> <code>-x, --maci-address &lt;maciAddress&gt;</code>: The MACI contract address <br> <code>-s, --sg-data &lt;sgData&gt;</code>: The signup gateway data <br> <code>-i, --ivcp-data &lt;ivcpData&gt;</code>: The initial voice credit proxy data <br> <code>-q, --quiet</code>: Whether to print values to the console</td></tr><tr><td>topup</td><td>Top up an account with voice credits</td><td><code>-a, --amount &lt;amount&gt;</code>: The amount of topup <br> <code>-x, --maci-address &lt;maciAddress&gt;</code>: The MACI contract address <br> <code>-i, --state-index &lt;stateIndex&gt;</code>: State leaf index <br> <code>-o, --poll-id &lt;pollId&gt;</code>: Poll id <br> <code>-q, --quiet</code>: Whether to print values to the console</td></tr><tr><td>fundWallet</td><td>Fund a wallet with Ether</td><td><code>-a, --amount &lt;amount&gt;</code>: The amount of Ether <br> <code>-w, --address &lt;address&gt;</code>: The address to fund <br> <code>-q, --quiet</code>: Whether to print values to the console</td></tr><tr><td>verify</td><td>Verify the results of a poll and optionally the subsidy results</td><td><code>-o, --poll-id &lt;pollId&gt;</code>: The poll id <br> <code>-t, --tally-file &lt;tallyFile&gt;</code>: The tally file <br> <code>-s, --subsidy-file &lt;subsidyFile&gt;</code>: The subsidy file <br> <code>-x, --contract &lt;contract&gt;</code>: The MACI contract address <br> <code>-tc, --tally-contract &lt;tallyContract&gt;</code>: The tally contract address <br> <code>-sc, --subsidy-contract &lt;subsidyContract&gt;</code>: The subsidy contract address <br> <code>-q, --quiet</code>: Whether to print values to the console</td></tr><tr><td>genProofs</td><td>Generate the proofs for a poll</td><td><code>-sk, --privkey &lt;privkey&gt;</code>: Your serialized MACI private key <br> <code>-x, --contract &lt;contract&gt;</code>: The MACI contract address <br> <code>-o, --poll-id &lt;pollId&gt;</code>: The poll id <br> <code>-t, --tally-file &lt;tallyFile&gt;</code>: The tally file <br> <code>-s, --subsidy-file &lt;subsidyFile&gt;</code>: The subsidy file <br> <code>-r, --rapidsnark &lt;rapidsnark&gt;</code>: The path to the rapidsnark binary <br> <code>-wp, --process-witnessgen &lt;processWitnessgen&gt;</code>: The path to the process witness generation binary <br> <code>-wt, --tally-witnessgen &lt;tallyWitnessgen&gt;</code>: The path to the tally witness generation binary <br> <code>-ws, --subsidy-witnessgen &lt;subsidyWitnessgen&gt;</code>: The path to the subsidy witness generation binary <br> <code>-zp, --process-zkey &lt;processZkey</code>: The path to the process zkey <br> <code>-zt, --tally-zkey &lt;tallyZkey&gt;</code>: The path to the tally zkey <br> <code>-zs, --subsidy-zkey &lt;subsidyZkey&gt;</code>: The path to the subsidy zkey <br> <code>-q, --quiet</code>: Whether to print values to the console <br> <code>-f, --output &lt;outputDir&gt;</code>: The output directory for proofs <br> <code>-tx, --transaction-hash &lt;transactionHash&gt;:</code> Transaction hash of MACI contract creation <br> <code>-w, --wasm</code>: Whether to use the wasm binaries <br> <code>-pw, --process-wasm &lt;processWasm&gt;</code>: The path to the process witness generation wasm binary <br> <code>-tw, --tally-wasm &lt;tallyWasm&gt;</code>: The path to the tally witness generation wasm binary <br> <code>-sw, --subsidy-wasm &lt;subsidyWasm&gt;</code>: The path to the subsidy witness generation wasm binary</td></tr><tr><td>proveOnChain</td><td>Prove the results of a poll on chain</td><td><code>-o, --poll-id &lt;pollId&gt;</code>: The poll id <br> <code>-q, --quiet</code>: Whether to print values to the console <br> <code>-x, --contract &lt;contract&gt;</code>: The MACI contract address <br> <code>-p, --message-processor-address &lt;messageProcessorAddress&gt;</code>: The message processor contract address <br> <code>-t, --tally-contract &lt;tallyContract&gt;</code>: The tally contract address <br> <code>-s, --subsidy-contract &lt;subsidyContract&gt;</code>: The subsidy contract address <br> <code>-f, --proof-dir &lt;proofDir&gt;</code>: The proof output directory from the genProofs subcommand</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_FNw8" id="public-and-private-key-format">Public and private key format<a href="#public-and-private-key-format" class="hash-link" aria-label="Direct link to Public and private key format" title="Direct link to Public and private key format">​</a></h2>
<p>MACI uses private keys in the BabyJub field for operations which occur within
zk-SNARKs, such as decrypting messages or signing commands. As MACI is deployed
on Ethereum, we seek to avoid confusing BabyJub private keys with Ethereum
private keys. To that end, users should pass serialized formats of public and
private keys to this CLI. We use <code>maci-domainobj</code>&#x27;s <code>PrivKey.serialize</code> and
<code>PubKey.serialize</code> functions to do so.</p>
<p>Examples of serialized public and private keys:</p>
<div class="codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-text codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">Private key: macisk.49953af3585856f539d194b46c82f4ed54ec508fb9b882940cbe68bbc57e59e</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Public key:  macipk.c974f4f168b79727ac98bfd53a65ea0b4e45dc2552fe73df9f8b51ebb0930330</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_FNw8" id="coordinator-deploy-vkregistry">Coordinator: Deploy VkRegistry<a href="#coordinator-deploy-vkregistry" class="hash-link" aria-label="Direct link to Coordinator: Deploy VkRegistry" title="Direct link to Coordinator: Deploy VkRegistry">​</a></h3>
<p>This command deploys an instance of a VkRegistry contract. Multiple MACI
contracts can refer to the same VkRegistry as long as they are all owned (via
<code>Ownable.sol</code>) by the same account.</p>
<p>Example usage:</p>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">HARDHAT_CONFIG=./build/hardhat.config.js \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node build/ts/index.js deployVkRegistry</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Example output:</p>
<div class="codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-text codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">[✓] VkRegistry deployed at: 0x6b5A4751307F6751E265c194244552A9995B6B3D</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_FNw8" id="coordinator-set-verifying-keys">Coordinator: Set verifying keys<a href="#coordinator-set-verifying-keys" class="hash-link" aria-label="Direct link to Coordinator: Set verifying keys" title="Direct link to Coordinator: Set verifying keys">​</a></h3>
<p>Note that the filename of the <code>.zkey</code> files must follow this format:</p>
<div class="codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-text codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">ProcessMessages_&lt;STATE_TREE_DEPTH&gt;-&lt;MSG_TREE_DEPTH&gt;-&lt;MSG_SUBTREE_DEPTH&gt;-&lt;VOTE_OPTION_TREE_DEPTH&gt;_test.&lt;CONTRIBUTION_NUM&gt;.zkey</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TallyVotes_&lt;STATE_TREE_DEPTH&gt;-&lt;INT_STATE_TREE_DEPTH&gt;-&lt;VOTE_OPTION_TREE_DEPTH&gt;&gt;_test.&lt;CONTRIBUTION_NUM&gt;&gt;.zkey</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Example usage:</p>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">HARDHAT_CONFIG=./build/hardhat.config.js \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node build/ts/index.js setVerifyingKeys \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -s 10 -i 1 -m 2 -v 2 -b 1 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -p ./zkeys/ProcessMessages_10-2-1-2_test.0.zkey \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -t ./zkeys/TallyVotes_10-1-2_test.0.zkey \</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Example output:</p>
<div class="codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-text codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">[i] Setting verifying keys...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Transaction hash: 0x6b5b2959ba5161497d5499a0f9d9c69f773cd5f9b82f80a79253797b066863e3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[✓] Verifying keys set successfully</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_FNw8" id="coordinator-create-maci-instance">Coordinator: Create MACI instance<a href="#coordinator-create-maci-instance" class="hash-link" aria-label="Direct link to Coordinator: Create MACI instance" title="Direct link to Coordinator: Create MACI instance">​</a></h3>
<p>Example usage:</p>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">HARDHAT_CONFIG=./build/hardhat.config.js \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node build/ts/index.js create -s 10</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Example output:</p>
<div class="codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-text codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">[✓] MACI deployed at:  0xB08CEd0f34940a3E576Cf023b287f9Db2f306a1f</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_FNw8" id="coordinator-deploy-poll">Coordinator: Deploy poll<a href="#coordinator-deploy-poll" class="hash-link" aria-label="Direct link to Coordinator: Deploy poll" title="Direct link to Coordinator: Deploy poll">​</a></h3>
<p>Example usage:</p>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">HARDHAT_CONFIG=./build/hardhat.config.js \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node ./build/index.js deployPoll \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -pk macipk.c974f4f168b79727ac98bfd53a65ea0b4e45dc2552fe73df9f8b51ebb0930330 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -t 30 -g 25 -mv 25 -i 1 -m 2 -b 1 -v 2</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Example output:</p>
<div class="codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-text codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">[i] Poll ID: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Poll contract: 0xB6389Da0285c7B1FC0ba352F5A1D5fb1A492a786</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Message processor contract: 0xE0bF6021e023a197DBb3fABE64efA880E13D3f4b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Tally contract: 0x3f21BC64076e7c9ed8695d053DCCBE6D8d5E6f43</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Subsidy contract: 0xb848ef765E289762e9BE66a38006DDc4D23AeF24</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_FNw8" id="user-sign-up">User: sign up<a href="#user-sign-up" class="hash-link" aria-label="Direct link to User: sign up" title="Direct link to User: sign up">​</a></h3>
<p>Example usage:</p>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">HARDHAT_CONFIG=./build/hardhat.config.js \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node ./build/index.js signup \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -p macipk.c974f4f168b79727ac98bfd53a65ea0b4e45dc2552fe73df9f8b51ebb0930330</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Example output:</p>
<div class="codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-text codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">[i] Transaction hash: 0x4c7c9f65187fcf6e243804b75555bda48cbae4c317bb312f1b9f95ac4b7697b1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[✓] State index: 1</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_FNw8" id="user-publish-message">User: publish message<a href="#user-publish-message" class="hash-link" aria-label="Direct link to User: publish message" title="Direct link to User: publish message">​</a></h3>
<p>Example usage:</p>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">HARDHAT_CONFIG=./build/hardhat.config.js \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node build/ts/index.js publish \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -p macipk.c974f4f168b79727ac98bfd53a65ea0b4e45dc2552fe73df9f8b51ebb0930330 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -sk macisk.2ae4f199bf3925a2407f7c775c9261f351ab861d8e9ecbb84622bdd3f6d41b08 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -i 1 -v 0 -w 9 -n 1 -o 0</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Example output:</p>
<div class="codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-text codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">[i] Transaction hash: 0xa2ab91c821bf7fa73fedcf19a5371a0f0866ae0747d22f82f1685afca0e5db49</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Ephemeral private key: macisk.2631d585e46f059e4909ab35172451542ed7723a1ace120fcf49d68e27f935b0</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>### (Testing only) Coordinator: Time travel</p>
<p>Example usage:</p>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">HARDHAT_CONFIG=./build/hardhat.config.js \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node build/ts/index.js timeTravel -s 1000</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Example output:</p>
<div class="codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-text codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">[✓] Fast-forwarded 1000 seconds</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_FNw8" id="coordinator-merge-state-tree">Coordinator: merge state tree<a href="#coordinator-merge-state-tree" class="hash-link" aria-label="Direct link to Coordinator: merge state tree" title="Direct link to Coordinator: merge state tree">​</a></h3>
<p>Example usage:</p>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">HARDHAT_CONFIG=./build/hardhat.config.js \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node build/ts/index.js mergeSignups -o 0</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Example output:</p>
<div class="codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-text codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">[i] Merging state subroots 1 / 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Transaction hash: 0xd7e7312f70831ec05bb23f23f506ef37d6ce0c2056c1b72f7bb989653d1c8a42</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[✓] Executed mergeMaciStateAqSubRoots(); gas used: 720061</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[✓] All state subtrees have been merged.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Merging subroots to a main state root...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Transaction hash: 0xb5e98d328b066d91e1b7aa35775fe624be446b540a00bcb4b27a02477636b569</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[✓] Executed mergeStateAq(); gas used: 1004720</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_FNw8" id="coordinator-merge-message-tree">Coordinator: merge message tree<a href="#coordinator-merge-message-tree" class="hash-link" aria-label="Direct link to Coordinator: merge message tree" title="Direct link to Coordinator: merge message tree">​</a></h3>
<p>Example usage:</p>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">HARDHAT_CONFIG=./build/hardhat.config.js \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node build/ts/index.js mergeMessages -o 0</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Example output:</p>
<div class="codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-text codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">[i] Merging message subroots 1 / 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[✓] Executed mergeMessageAqSubRoots(); gas used: 602448</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Transaction hash: 0xdf9d11c6b35fcccff82dafa3aa15f760e3f7694a72b07007fbdb359d44df0bea</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[✓] All message subtrees have been merged.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Merging subroots to a main message root...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[✓] Executed mergeMessageAq(); gas used: 173346</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Transaction hash: 0x1f18ec08fd14db90a0d1d02d1ed27c0bfd3bc138701e812c4c3382572fc4d151</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[✓] The message tree has been merged.</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_FNw8" id="coordinator-generate-maci-state-offchain">Coordinator: generate Maci state offchain<a href="#coordinator-generate-maci-state-offchain" class="hash-link" aria-label="Direct link to Coordinator: generate Maci state offchain" title="Direct link to Coordinator: generate Maci state offchain">​</a></h3>
<p>Example usage to generate the state locally from the smart contracts events:</p>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">HARDHAT_CONFIG=./build/hardhat.config.js \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node build/ts/index.js genLocalState \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --poll-id 0 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --output localState.json \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --privkey macisk.49953af3585856f539d194b46c82f4ed54ec508fb9b882940cbe68bbc57e59e \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --blocks-per-batch 50</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Example output:</p>
<div class="codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-text codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">[i] Fetching logs from 0 till 228 and generating the offline maci state</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[✓] The state has been written to localState.json</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_FNw8" id="coordinator-generate-proofs">Coordinator: generate proofs<a href="#coordinator-generate-proofs" class="hash-link" aria-label="Direct link to Coordinator: generate proofs" title="Direct link to Coordinator: generate proofs">​</a></h3>
<p>Example usage:</p>
<p><strong>C++ witness parameters</strong></p>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">HARDHAT_CONFIG=./build/hardhat.config.js \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node build/ts/index.js genProofs -x 0x89962fa216d39fCcaaC11e1e462340d80ab6Cf4D \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -sk macisk.49953af3585856f539d194b46c82f4ed54ec508fb9b882940cbe68bbc57e59e \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -o 0 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -t tally.json \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -f proofs \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -r ~/rapidsnark/build/prover \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -wp ./zkeys/ProcessMessages_10-2-1-2_test \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -wt ./zkeys/TallyVotes_10-1-2_test \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -zp ./zkeys/ProcessMessages_10-2-1-2_test.0.zkey \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -zt ./zkeys/TallyVotes_10-1-2_test.0.zkey \</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>WASM Parameters</strong></p>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">HARDHAT_CONFIG=./build/hardhat.config.js \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node build/ts/index.js genProofs \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -sk macisk.49953af3585856f539d194b46c82f4ed54ec508fb9b882940cbe68bbc57e59e \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -o 0 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -t tally.json \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -f proofs \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -zp ./zkeys/ProcessMessages_10-2-1-2_test.0.zkey \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -zt ./zkeys/TallyVotes_10-1-2_test.0.zkey \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -tw ./zkeys/TallyVotes_10-1-2_test_js/TallyVotes_10-1-2_test.wasm \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -pw ./zkeys/ProcessMessages_10-2-1-2_test_js/ProcessMessages_10-2-1-2_test.wasm \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -w true</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Example output:</p>
<div class="codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-text codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">[i] starting to fetch logs from block 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Generating proofs of message processing...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Progress: 1 / 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] gen processMessage proof took 17.322 seconds</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Generating proofs of vote tallying...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Progress: 1 / 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[✓] The tally commitment is correct</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] gen tally proof took 4.951 seconds</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_FNw8" id="coordinator-generate-proofs-using-a-local-state-file">Coordinator: generate proofs using a local state file<a href="#coordinator-generate-proofs-using-a-local-state-file" class="hash-link" aria-label="Direct link to Coordinator: generate proofs using a local state file" title="Direct link to Coordinator: generate proofs using a local state file">​</a></h3>
<p>Example usage to generate the proofs locally from the local state file created with genLocalState:</p>
<p><strong>C++ witness parameters</strong></p>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">HARDHAT_CONFIG=./build/hardhat.config.js \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node build/ts/index.js genProofs \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --privkey macisk.49953af3585856f539d194b46c82f4ed54ec508fb9b882940cbe68bbc57e59e \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --poll-id 0 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --rapidsnark ~/rapidsnark/build/prover \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --process-witnessgen ./zkeys/ProcessMessages_10-2-1-2_test \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --tally-witnessgen ./zkeys/TallyVotes_10-1-2_test \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --process-zkey /zkeys/ProcessMessages_10-2-1-2_test.0.zkey \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --tally-zkey ./zkeys/TallyVotes_10-1-2_test.0.zkey \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --tally-file tally.json \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --output proofs/ \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --state-file localState.json</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>WASM Params</strong></p>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">HARDHAT_CONFIG=./build/hardhat.config.js \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node build/ts/index.js genProofs \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --privkey macisk.49953af3585856f539d194b46c82f4ed54ec508fb9b882940cbe68bbc57e59e \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --poll-id 0 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --process-zkey ./zkeys/ProcessMessages_10-2-1-2_test.0.zkey \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --tally-zkey ./zkeys/TallyVotes_10-1-2_test.0.zkey \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --tally-file tally.json \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --output proofs/ \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --state-file localState.json \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -tw ./zkeys/TallyVotes_10-1-2_test_js/TallyVotes_10-1-2_test.wasm \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -pw ./zkeys/ProcessMessages_10-2-1-2_test_js/ProcessMessages_10-2-1-2_test.wasm \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -w true</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Example output:</p>
<div class="codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-text codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">[i] Generating proofs of message processing...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Progress: 1 / 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] gen processMessage proof took 17.053 seconds</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Generating proofs of vote tallying...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Progress: 1 / 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[✓] The tally commitment is correct</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] gen tally proof took 4.746 seconds</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_FNw8" id="coordinator-prove-on-chain">Coordinator: prove on chain<a href="#coordinator-prove-on-chain" class="hash-link" aria-label="Direct link to Coordinator: prove on chain" title="Direct link to Coordinator: prove on chain">​</a></h3>
<p>Example usage:</p>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">HARDHAT_CONFIG=./build/hardhat.config.js \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node build/ts/index.js proveOnChain \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -o 0 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -f proofs/</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Example output:</p>
<div class="codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-text codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">[i] Submitting proofs of message processing...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Transaction hash: 0xa8acf67d6520ceaf5eef8acbf4cda7f5c2657122e2a72a092b9f4503282d70b9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Progress: 1 / 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[✓] All message processing proofs have been submitted.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Submitting proofs of vote tallying...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Progress: 1 / 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Transaction hash: 0x691687ab6fb504919859901f297cdb7d8c4d736756d2d4edf345d721bb82365b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[✓] All vote tallying proofs have been submitted.</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_FNw8" id="anyone-verify-tally">Anyone: verify tally<a href="#anyone-verify-tally" class="hash-link" aria-label="Direct link to Anyone: verify tally" title="Direct link to Anyone: verify tally">​</a></h3>
<p>Example usage:</p>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">HARDHAT_CONFIG=./build/hardhat.config.js \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node build/ts/index.js verify \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -o 0 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -t tally.json</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Example output:</p>
<div class="codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-text codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">[i] on-chain tally commitment: 83601b7979c13506317b58e859950e9e92e1e6d326810d89332cc13909833ec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[✓] The on-chain tally commitment matches.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] The on-chain tally matches the off-chain tally.</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_FNw8" id="demonstration">Demonstration<a href="#demonstration" class="hash-link" aria-label="Direct link to Demonstration" title="Direct link to Demonstration">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_FNw8" id="scenario">Scenario:<a href="#scenario" class="hash-link" aria-label="Direct link to Scenario:" title="Direct link to Scenario:">​</a></h3>
<ol>
<li>Alice votes for Party A</li>
<li>Alice changes her key</li>
<li>Eve tries to bribe Alice to change her vote to Party B</li>
<li>Alice submits an invalid vote for Party B</li>
<li>The coordinator processes the votes, computes, and verifies the final tally</li>
<li>The expected result is: Party A has some votes and Party B has 0 votes.</li>
</ol>
<p>Implication: Alice&#x27;s invalid vote was not counted, and Eve had no way to tell.</p>
<h3 class="anchor anchorWithStickyNavbar_FNw8" id="examples-of-serialized-public-and-private-keys">Examples of serialized public and private keys:<a href="#examples-of-serialized-public-and-private-keys" class="hash-link" aria-label="Direct link to Examples of serialized public and private keys:" title="Direct link to Examples of serialized public and private keys:">​</a></h3>
<div class="codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-text codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">Coordinator:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Private key: macisk.49953af3585856f539d194b46c82f4ed54ec508fb9b882940cbe68bbc57e59e</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Public key:  macipk.c974f4f168b79727ac98bfd53a65ea0b4e45dc2552fe73df9f8b51ebb0930330</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Alice:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Private key: macisk.fd7aa614ec4a82716ffc219c24fd7e7b52a2b63b5afb17e81c22fe21515539c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Public key:  macipk.3e7bb2d7f0a1b7e980f1b6f363d1e3b7a12b9ae354c2cd60a9cfa9fd12917391</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_FNw8" id="coordinator-deploy-vkregistry-1">Coordinator: Deploy VkRegistry<a href="#coordinator-deploy-vkregistry-1" class="hash-link" aria-label="Direct link to Coordinator: Deploy VkRegistry" title="Direct link to Coordinator: Deploy VkRegistry">​</a></h3>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">HARDHAT_CONFIG=./build/hardhat.config.js \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node build/ts/index.js deployVkRegistry</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Output:</p>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">[✓] VkRegistry deployed at: 0x7607Cfe2fA0d62F725537e55d83C693Cc3C76EF2</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_FNw8" id="coordinator-set-verifying-keys-1">Coordinator: Set verifying keys<a href="#coordinator-set-verifying-keys-1" class="hash-link" aria-label="Direct link to Coordinator: Set verifying keys" title="Direct link to Coordinator: Set verifying keys">​</a></h3>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">HARDHAT_CONFIG=./build/hardhat.config.js \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node build/ts/index.js setVerifyingKeys \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --state-tree-depth 10 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --int-state-tree-depth 1 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --msg-tree-depth 2 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --vote-option-tree-depth 2 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --msg-batch-depth 1 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --process-messages-zkey ./zkeys/ProcessMessages_10-2-1-2_test.0.zkey \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --tally-votes-zkey ./zkeys/TallyVotes_10-1-2_test.0.zkey</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Output:</p>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">[i] Setting verifying keys...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Transaction hash: 0xbd5d06935537fb59903c27b9bdb19a41d422f75e1dfd6eb61f028bf3a7b82c76</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[✓] Verifying keys set successfully</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_FNw8" id="coordinator-create-maci-instance-1">Coordinator: Create MACI instance<a href="#coordinator-create-maci-instance-1" class="hash-link" aria-label="Direct link to Coordinator: Create MACI instance" title="Direct link to Coordinator: Create MACI instance">​</a></h3>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">HARDHAT_CONFIG=./build/hardhat.config.js \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node build/ts/index.js create -s 10</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Output:</p>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">[✓] MACI deployed at:  0xC131D3eeD9D6D410A7bfc200d81b9795f1bb5ed6</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_FNw8" id="coordinator-deploy-poll-1">Coordinator: Deploy poll<a href="#coordinator-deploy-poll-1" class="hash-link" aria-label="Direct link to Coordinator: Deploy poll" title="Direct link to Coordinator: Deploy poll">​</a></h3>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">HARDHAT_CONFIG=./build/hardhat.config.js \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node ./build/index.js deployPoll \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -pk macipk.c974f4f168b79727ac98bfd53a65ea0b4e45dc2552fe73df9f8b51ebb0930330 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -t 1000 -g 25 -mv 25 -i 1 -m 2 -b 1 -v 2</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Output:</p>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">[i] Poll ID: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Poll contract: 0x2c3Adf2852788662148038511aD80962aaf631D7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Message processor contract: 0xd3C3C6530fE4073292D6EAfdEAdEeAbf1A3DC19B</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Tally contract: 0x06c1939F6cBb68D42333F140CAE815cc36D341b0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Subsidy contract: 0xCB74254716c96B07c812c73A5945e68aa1de4569</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_FNw8" id="alice-sign-up">Alice: sign up<a href="#alice-sign-up" class="hash-link" aria-label="Direct link to Alice: sign up" title="Direct link to Alice: sign up">​</a></h3>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">HARDHAT_CONFIG=./build/hardhat.config.js \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node ./build/index.js signup \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --pubkey macipk.3e7bb2d7f0a1b7e980f1b6f363d1e3b7a12b9ae354c2cd60a9cfa9fd12917391</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Output:</p>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">[i] Transaction hash: 0x7ab4c2d23686049432d19bb64c8ee4e8776fff134d971dcf27e1f513b4fdb97f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[✓] State index: 1</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_FNw8" id="alice-votes-for-party-a-option-index-0">Alice: votes for Party A (option index 0)<a href="#alice-votes-for-party-a-option-index-0" class="hash-link" aria-label="Direct link to Alice: votes for Party A (option index 0)" title="Direct link to Alice: votes for Party A (option index 0)">​</a></h3>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">HARDHAT_CONFIG=./build/hardhat.config.js \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node build/ts/index.js publish \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --pubkey macipk.3e7bb2d7f0a1b7e980f1b6f363d1e3b7a12b9ae354c2cd60a9cfa9fd12917391 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --privkey macisk.fd7aa614ec4a82716ffc219c24fd7e7b52a2b63b5afb17e81c22fe21515539c \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --state-index 1 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --vote-option-index 0 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --new-vote-weight 9 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --nonce 1 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --poll-id 0</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Output:</p>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">[i] Transaction hash: 0x60936cfb0b25c8618d3cb8d0f5497106d5f6e3776f3212932975442d874eddbd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Ephemeral private key: macisk.103b8c4c98700d06f47522892032fce54bd03cd197cee495ede3802730409910</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_FNw8" id="alice-submits-an-invalid-vote-for-party-b-option-index-1-with-different-public-key">Alice: submits an invalid vote for Party B (option index 1) with different public key<a href="#alice-submits-an-invalid-vote-for-party-b-option-index-1-with-different-public-key" class="hash-link" aria-label="Direct link to Alice: submits an invalid vote for Party B (option index 1) with different public key" title="Direct link to Alice: submits an invalid vote for Party B (option index 1) with different public key">​</a></h3>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">HARDHAT_CONFIG=./build/hardhat.config.js \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node build/ts/index.js publish \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --pubkey macipk.d5788ea6ccf1ec295df99aaef859031fe7bd359e7e03acb80eb6e8a192f2ce19 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --privkey macisk.fd7aa614ec4a82716ffc219c24fd7e7b52a2b63b5afb17e81c22fe21515539c \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --state-index 1 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --vote-option-index 1 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --new-vote-weight 9 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --nonce 2 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --poll-id 0</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Output:</p>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">[i] Transaction hash: 0x73f74b13d276cd311ce5421a145debc71e97e48abc8be2f9a0a548b26f7920f9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Ephemeral private key: macisk.1e490d67477b4c5f08806973fca2bea81e723c60deba6bdeacab56f7a4bd867b</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_FNw8" id="coordinator-time-travel">Coordinator: Time Travel<a href="#coordinator-time-travel" class="hash-link" aria-label="Direct link to Coordinator: Time Travel" title="Direct link to Coordinator: Time Travel">​</a></h3>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">HARDHAT_CONFIG=./build/hardhat.config.js \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node build/ts/index.js timeTravel -s 1000</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Output:</p>
<div class="codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-text codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">[✓] Fast-forwarded 1000 seconds</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_FNw8" id="coordinator-merge-state-tree-1">Coordinator: merge state tree<a href="#coordinator-merge-state-tree-1" class="hash-link" aria-label="Direct link to Coordinator: merge state tree" title="Direct link to Coordinator: merge state tree">​</a></h3>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">HARDHAT_CONFIG=./build/hardhat.config.js \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node build/ts/index.js mergeSignups --poll-id 0</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Output:</p>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">[i] Merging state subroots 1 / 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Transaction hash: 0xd01932e8dfad251f9b0d288290ac17f12bc449ea859a6921f63edf6b4b06f4c9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[✓] Executed mergeMaciStateAqSubRoots(); gas used: 720061</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[✓] All state subtrees have been merged.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Merging subroots to a main state root...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Transaction hash: 0x25f60a9b5a24d11b87c41d8a4f681e3fd895b3bdf78ea86755b9800005662ce6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[✓] Executed mergeStateAq(); gas used: 1004720</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_FNw8" id="coordinator-merge-message-tree-1">Coordinator: merge message tree<a href="#coordinator-merge-message-tree-1" class="hash-link" aria-label="Direct link to Coordinator: merge message tree" title="Direct link to Coordinator: merge message tree">​</a></h3>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">HARDHAT_CONFIG=./build/hardhat.config.js \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node build/ts/index.js mergeMessages --poll-id 0</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Output:</p>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">[i] Merging message subroots 1 / 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[✓] Executed mergeMessageAqSubRoots(); gas used: 600520</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Transaction hash: 0xac0e8a01277db1b6282f8fb3763a8a4aeeebb3e12a41dd0dee9fc2804a4c9e81</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[✓] All message subtrees have been merged.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Merging subroots to a main message root...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[✓] Executed mergeMessageAq(); gas used: 173346</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Transaction hash: 0x472f0fd515c7cd2a02c430189e4ee92a6843bd6b19807484ce454cb7dab0e931</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[✓] The message tree has been merged.</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_FNw8" id="coordinator-generate-proofs-1">Coordinator: generate proofs<a href="#coordinator-generate-proofs-1" class="hash-link" aria-label="Direct link to Coordinator: generate proofs" title="Direct link to Coordinator: generate proofs">​</a></h3>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">HARDHAT_CONFIG=./build/hardhat.config.js \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node build/ts/index.js genProofs \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --privkey macisk.49953af3585856f539d194b46c82f4ed54ec508fb9b882940cbe68bbc57e59e \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --poll-id 0 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --process-zkey ./zkeys/ProcessMessages_10-2-1-2_test.0.zkey \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --tally-zkey ./zkeys/TallyVotes_10-1-2_test.0.zkey \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --tally-file tally.json \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --output proofs/ \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -tw ./zkeys/TallyVotes_10-1-2_test_js/TallyVotes_10-1-2_test.wasm \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -pw ./zkeys/ProcessMessages_10-2-1-2_test_js/ProcessMessages_10-2-1-2_test.wasm \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -w true</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Output:</p>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">[i] Generating proofs of message processing...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Progress: 1 / 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] gen processMessage proof took 16.644 seconds</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Generating proofs of vote tallying...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Progress: 1 / 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[✓] The tally commitment is correct</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] gen tally proof took 4.809 seconds</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_FNw8" id="coordinator-prove-on-chain-1">Coordinator: prove on chain<a href="#coordinator-prove-on-chain-1" class="hash-link" aria-label="Direct link to Coordinator: prove on chain" title="Direct link to Coordinator: prove on chain">​</a></h3>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">HARDHAT_CONFIG=./build/hardhat.config.js \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node build/ts/index.js proveOnChain \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --poll-id 0 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --proof-dir proofs/</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Output:</p>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">[i] Submitting proofs of message processing...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Transaction hash: 0x9c3280af80de2436f9a886e4cd94218e01fe35ea3d3e671aad97b5aa5d6108ed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Progress: 1 / 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[✓] All message processing proofs have been submitted.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Submitting proofs of vote tallying...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Progress: 1 / 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[i] Transaction hash: 0x3e82ae3ad04215d4f357455ab5a610eba082796d2abc698aad91b046d16b9350</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[✓] All vote tallying proofs have been submitted.</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_FNw8" id="anyone-verify">Anyone: verify<a href="#anyone-verify" class="hash-link" aria-label="Direct link to Anyone: verify" title="Direct link to Anyone: verify">​</a></h3>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">HARDHAT_CONFIG=./build/hardhat.config.js \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node build/ts/index.js verify \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --poll-id 0 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --tally-file tally.json</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Output:</p>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">[i] on-chain tally commitment: 1ed004ac21a5397a512cbe749e7110934a434837f4818265043fd2e2e9cbec91</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[✓] The on-chain tally commitment matches.</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/privacy-scaling-explorations/maci/edit/dev/website/versioned_docs/version-v1.x/cli.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_NulP" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated__GQF"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/primitives"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Primitives</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/contracts"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Smart Contracts</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_IS5x thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#subcommands" class="table-of-contents__link toc-highlight">Subcommands</a></li><li><a href="#public-and-private-key-format" class="table-of-contents__link toc-highlight">Public and private key format</a><ul><li><a href="#coordinator-deploy-vkregistry" class="table-of-contents__link toc-highlight">Coordinator: Deploy VkRegistry</a></li><li><a href="#coordinator-set-verifying-keys" class="table-of-contents__link toc-highlight">Coordinator: Set verifying keys</a></li><li><a href="#coordinator-create-maci-instance" class="table-of-contents__link toc-highlight">Coordinator: Create MACI instance</a></li><li><a href="#coordinator-deploy-poll" class="table-of-contents__link toc-highlight">Coordinator: Deploy poll</a></li><li><a href="#user-sign-up" class="table-of-contents__link toc-highlight">User: sign up</a></li><li><a href="#user-publish-message" class="table-of-contents__link toc-highlight">User: publish message</a></li><li><a href="#coordinator-merge-state-tree" class="table-of-contents__link toc-highlight">Coordinator: merge state tree</a></li><li><a href="#coordinator-merge-message-tree" class="table-of-contents__link toc-highlight">Coordinator: merge message tree</a></li><li><a href="#coordinator-generate-maci-state-offchain" class="table-of-contents__link toc-highlight">Coordinator: generate Maci state offchain</a></li><li><a href="#coordinator-generate-proofs" class="table-of-contents__link toc-highlight">Coordinator: generate proofs</a></li><li><a href="#coordinator-generate-proofs-using-a-local-state-file" class="table-of-contents__link toc-highlight">Coordinator: generate proofs using a local state file</a></li><li><a href="#coordinator-prove-on-chain" class="table-of-contents__link toc-highlight">Coordinator: prove on chain</a></li><li><a href="#anyone-verify-tally" class="table-of-contents__link toc-highlight">Anyone: verify tally</a></li></ul></li><li><a href="#demonstration" class="table-of-contents__link toc-highlight">Demonstration</a><ul><li><a href="#scenario" class="table-of-contents__link toc-highlight">Scenario:</a></li><li><a href="#examples-of-serialized-public-and-private-keys" class="table-of-contents__link toc-highlight">Examples of serialized public and private keys:</a></li><li><a href="#coordinator-deploy-vkregistry-1" class="table-of-contents__link toc-highlight">Coordinator: Deploy VkRegistry</a></li><li><a href="#coordinator-set-verifying-keys-1" class="table-of-contents__link toc-highlight">Coordinator: Set verifying keys</a></li><li><a href="#coordinator-create-maci-instance-1" class="table-of-contents__link toc-highlight">Coordinator: Create MACI instance</a></li><li><a href="#coordinator-deploy-poll-1" class="table-of-contents__link toc-highlight">Coordinator: Deploy poll</a></li><li><a href="#alice-sign-up" class="table-of-contents__link toc-highlight">Alice: sign up</a></li><li><a href="#alice-votes-for-party-a-option-index-0" class="table-of-contents__link toc-highlight">Alice: votes for Party A (option index 0)</a></li><li><a href="#alice-submits-an-invalid-vote-for-party-b-option-index-1-with-different-public-key" class="table-of-contents__link toc-highlight">Alice: submits an invalid vote for Party B (option index 1) with different public key</a></li><li><a href="#coordinator-time-travel" class="table-of-contents__link toc-highlight">Coordinator: Time Travel</a></li><li><a href="#coordinator-merge-state-tree-1" class="table-of-contents__link toc-highlight">Coordinator: merge state tree</a></li><li><a href="#coordinator-merge-message-tree-1" class="table-of-contents__link toc-highlight">Coordinator: merge message tree</a></li><li><a href="#coordinator-generate-proofs-1" class="table-of-contents__link toc-highlight">Coordinator: generate proofs</a></li><li><a href="#coordinator-prove-on-chain-1" class="table-of-contents__link toc-highlight">Coordinator: prove on chain</a></li><li><a href="#anyone-verify" class="table-of-contents__link toc-highlight">Anyone: verify</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction">Documentation</a></li><li class="footer__item"><a href="https://github.com/privacy-scaling-explorations/maci" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_T11m"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.com/invite/sF5CT5rzrR" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_T11m"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/zkMACI" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_T11m"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Privacy and Scaling Explorations</div></div></div></footer></div>
</body>
</html>